/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package junit5.benchmark;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.engine.JupiterTestEngine;
import org.openjdk.jmh.annotations.*;

import java.util.concurrent.TimeUnit;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;
import static org.junit.platform.engine.discovery.DiscoverySelectors.selectMethod;
import static org.junit.platform.launcher.core.LauncherConfig.builder;
import static org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.request;
import static org.junit.platform.launcher.core.LauncherFactory.create;

@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.MILLISECONDS)
@Measurement(iterations = 100, time = 1, timeUnit = TimeUnit.MILLISECONDS)
@Fork(value = 1)
@BenchmarkMode(org.openjdk.jmh.annotations.Mode.AverageTime)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
@State(org.openjdk.jmh.annotations.Scope.Benchmark)
public class AppTest {
    @Test
    public void testEmpty() {
    }

    @Test
    public void testWithSimpleAssertEquals() {
        int a = 1;
        int b = 1;

        assertEquals(a, b);
    }

    @Test
    public void testWithSimpleAssertTrue() {
        assertTrue(true);
    }

    @Benchmark
    public void junit5_empty_test_method() {
        create(builder().enableTestEngineAutoRegistration(false).addTestEngines(new JupiterTestEngine()).build())
                .execute(request().selectors(selectMethod("junit5.benchmark.AppTest#testEmpty")).build());
    }

    @Benchmark
    public void junit5_test_with_simple_assertEquals() {
        create(builder().enableTestEngineAutoRegistration(false).addTestEngines(new JupiterTestEngine()).build())
                .execute(request().selectors(selectMethod("junit5.benchmark.AppTest#testWithSimpleAssertEquals")).build());
    }

    @Benchmark
    public void junit5_test_with_simple_assertTrue() {
        create(builder().enableTestEngineAutoRegistration(false).addTestEngines(new JupiterTestEngine()).build())
                .execute(request().selectors(selectMethod("junit5.benchmark.AppTest#testWithSimpleAssertTrue")).build());
    }
}

class NoTest {

}